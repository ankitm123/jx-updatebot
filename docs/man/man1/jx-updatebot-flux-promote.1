.TH "JX-UPDATEBOT\-FLUX\-PROMOTE" "1" "" "Auto generated by spf13/cobra" "" 
.nh
.ad l


.SH NAME
.PP
jx\-updatebot\-flux\-promote \- Promotes a new Application version in an FluxCD git repository


.SH SYNOPSIS
.PP
\fBjx\-updatebot flux promote\fP


.SH DESCRIPTION
.PP
Promotes a new HelmRelease version in a FluxCD git repository

.PP
This command will use the given chart name and version along with an optional sourceRefName of the helm or git repository or bucket to find the HelmRelease resource in the target git repository and create a Pull Request if the version is different. This lets you push promotion pull requests into FluxCD repositories as part of your CI release pipeline.

.PP
If you don't supply a version the $VERSION or VERSION file will be used. If you don't supply a chart the current folder name is used.


.SH OPTIONS
.PP
\fB\-\-auto\-merge\fP[=false]
    should we automatically merge if the PR pipeline is green

.PP
\fB\-c\fP, \fB\-\-chart\fP=""
    the name of the chart to promote. If not specified defaults to the current directory name

.PP
\fB\-\-commit\-message\fP=""
    the commit message

.PP
\fB\-\-commit\-title\fP=""
    the commit title

.PP
\fB\-d\fP, \fB\-\-dir\fP="."
    the directory look for the VERSION file

.PP
\fB\-\-git\-kind\fP=""
    the kind of git server to connect to

.PP
\fB\-\-git\-server\fP=""
    the git server URL to create the scm client

.PP
\fB\-\-git\-token\fP=""
    the git token used to operate on the git repository. If not specified it's loaded from the git credentials file

.PP
\fB\-\-git\-username\fP=""
    the git username used to operate on the git repository. If not specified it's loaded from the git credentials file

.PP
\fB\-h\fP, \fB\-\-help\fP[=false]
    help for promote

.PP
\fB\-\-labels\fP=[promote]
    a list of labels to apply to the PR

.PP
\fB\-\-pull\-request\-body\fP=""
    the PR body

.PP
\fB\-\-pull\-request\-title\fP="chore: upgrade the cluster git repository from the version stream"
    the PR title

.PP
\fB\-\-source\-ref\-name\fP=""
    the source ref name of the HelmRepository, GitRepository or Bucket containing the helm chart

.PP
\fB\-\-target\-git\-url\fP=""
    the target git URL to create a Pull Request on

.PP
\fB\-\-version\fP=""
    the version number to promote. If not specified uses $VERSION or the version file

.PP
\fB\-\-version\-file\fP=""
    the file to load the version from if not specified directly or via a $VERSION environment variable. Defaults to VERSION in the current dir

.PP
\fB\-\-version\-prefix\fP="v"
    the prefix added to the version number that will be used in the Flux CD Application YAML if \-\-version option is not specified and the version is defaulted from $VERSION or the VERSION file


.SH EXAMPLE
.PP
# lets promote a specific version of a chart with a source ref (repository) name to a git repo
  jx updatebot flux promote \-\-version v1.2.3 \-\-chart mychart \-\-source\-ref\-name myrepo \-\-target\-git\-url 
\[la]https://github.com/myorg/my-flux-repo.git\[ra]

.PP
# lets use the $VERSION env var or a VERSION file in the current dir and detect the chart name from the current folder
  jx updatebot flux promote \-\-target\-git\-url 
\[la]https://github.com/myorg/my-flux-repo.git\[ra]


.SH SEE ALSO
.PP
\fBjx\-updatebot\-flux(1)\fP


.SH HISTORY
.PP
Auto generated by spf13/cobra
